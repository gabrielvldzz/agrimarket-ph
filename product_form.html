{% extends 'base.html' %}
{% block content %}

<div class="container" style="max-width: 700px; background: #f9fff5; padding: 30px; border-radius: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-top: 40px;">
    <h2 style="text-align: center; color: #2e7d32; font-weight: 700; margin-bottom: 25px;">ðŸŒ¾ Add New Product</h2>

    <form method="POST" enctype="multipart/form-data">
        {{ form.hidden_tag() }}

        <div style="margin-bottom: 15px;">
            {{ form.name.label(class_="form-label") }}
            {{ form.name(class_="form-control", placeholder="Enter product name (e.g., Fresh Farm Potatoes)") }}
        </div>

        <div style="margin-bottom: 15px;">
            {{ form.description.label(class_="form-label") }}
            {{ form.description(class_="form-control", placeholder="Write a short product description...") }}
        </div>

        <div style="margin-bottom: 15px;">
            {{ form.price.label(class_="form-label") }}
            {{ form.price(class_="form-control", placeholder="â‚± per kilogram") }}
        </div>

        <div style="margin-bottom: 15px;">
            {{ form.quantity.label(class_="form-label") }}
            {{ form.quantity(class_="form-control", placeholder="Available stock") }}
        </div>

        <div style="margin-bottom: 15px;">
            {{ form.image.label(class_="form-label") }}
            {{ form.image(class_="form-control", id="imageUpload") }}
            <div style="margin-top: 10px;">
                <img id="preview" src="#" alt="Image Preview" style="display: none; max-width: 100%; border-radius: 10px;">
            </div>
        </div>

        <div style="text-align: center;">
            {{ form.submit(class_='btn btn-success', style='padding: 10px 25px; border-radius: 8px; font-weight: 600; background-color: #4caf50; border: none;') }}
        </div>
    </form>
</div>

<script>
document.getElementById("imageUpload").addEventListener("change", function(event) {
    const [file] = event.target.files;
    const preview = document.getElementById("preview");
    if (file) {
        preview.style.display = "block";
        preview.src = URL.createObjectURL(file);
    } else {
        preview.style.display = "none";
    }
});
</script>

{% endblock %}
