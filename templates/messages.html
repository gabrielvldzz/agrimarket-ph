{% extends 'base.html' %}
{% block content %}
  <div class="chat-container">
    <h2>Chat with {{ other_user.username }}</h2>
    <div class="messages-box">
      {% for m in messages %}
        <div class="message {% if m.sender_id == current_user.id %}sent{% else %}received{% endif %}">
          <strong>{{ m.sender.username }}:</strong> {{ m.content }}
        </div>
      {% endfor %}
    </div>

    <form method="post" class="chat-input">
      <textarea name="content" placeholder="Type a message..." required></textarea>
      <button type="submit">Send</button>
    </form>
  </div>

  <style>
    .chat-container { max-width: 600px; margin: 30px auto; background: #f9f9f9; border-radius: 10px; padding: 20px; }
    .messages-box { max-height: 400px; overflow-y: auto; padding: 10px; background: #fff; border-radius: 5px; margin-bottom: 15px; }
    .message { margin: 5px 0; padding: 8px 10px; border-radius: 5px; }
    .sent { background: #c8f7c5; text-align: right; }
    .received { background: #f0f0f0; text-align: left; }
    .chat-input textarea { width: 80%; height: 50px; border-radius: 5px; border: 1px solid #ccc; padding: 5px; resize: none; }
    .chat-input button { padding: 10px 15px; background-color: #2e8b57; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
{% endblock %}
